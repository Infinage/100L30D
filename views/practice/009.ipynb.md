---
jupyter:
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
  language_info:
    codemirror_mode:
      name: ipython
      version: 3
    file_extension: .py
    mimetype: text/x-python
    name: python
    nbconvert_exporter: python
    pygments_lexer: ipython3
    version: 3.12.6
  nbformat: 4
  nbformat_minor: 5
  papermill:
    default_parameters: {}
    duration: 1.427064
    end_time: "2024-09-14T16:47:44.612037"
    environment_variables: {}
    input_path: practice/009.ipynb
    output_path: practice/009.ipynb
    parameters: {}
    start_time: "2024-09-14T16:47:43.184973"
    version: 2.6.0
---

<div id="8816b2e8" class="cell markdown"
papermill="{&quot;duration&quot;:3.655e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.359160&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.355505&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

#### Basic imports

</div>

<div id="b4a2ab2d" class="cell code" execution_count="1"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.364877Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.364300Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.368338Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.367797Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:8.25e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.369640&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.361390&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
import math
import heapq
import bisect
import collections
import itertools
import functools
import random
import typing
```

</div>

<div id="03c6208d" class="cell code" execution_count="2"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.374259Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.374013Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.378186Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.377675Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:7.888e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.379335&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.371447&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def ssort(nums: list[int]) -> list[int]:
    "Select the smallest / largest from the list and push it to the end."
    N = len(nums)
    for i in range(N):
        min_ = i
        for j in range(i + 1, N):
            if nums[min_] > nums[j]:
                min_ = j
        nums[min_], nums[i] = nums[i], nums[min_]
    return nums

# Testing the solution
assert ssort([7,4,1,5,3]) == [1,3,4,5,7]
```

</div>

<div id="5666a6a3" class="cell code" execution_count="3"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.384135Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.383762Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.387810Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.387273Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:7.777e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.389013&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.381236&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def bsort(nums: list[int]) -> list[int]:
    "Compare consecutive elements and bubble the larger number towards the end."
    N = len(nums)
    for j in range(N - 1, -1, -1):
        swapped = False
        for i in range(j):
            if nums[i] > nums[i + 1]:
                nums[i], nums[i + 1] = nums[i + 1], nums[i]
                swapped = True
        if not swapped:
            break
    return nums

# Testing the solution
assert bsort([7,4,1,5,3]) == [1,3,4,5,7]
```

</div>

<div id="db64fcf9" class="cell code" execution_count="4"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.394219Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.393636Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.397536Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.397024Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:7.783e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.398744&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.390961&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def isort(nums: list[int]) -> list[int]:
    "Take an element and place it at the correct order"
    N = len(nums)
    for i in range(1, N):
        curr, j = nums[i], i - 1
        while j >= 0 and nums[j] > curr:
            nums[j + 1] = nums[j]
            j -= 1
        nums[j + 1] = curr
    return nums

# Testing the solution
assert isort([5,4,3,2,1]) == [1,2,3,4,5]
```

</div>

<div id="0f2ee15b" class="cell code" execution_count="5"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.403642Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.403116Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.409843Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.409276Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.0285e-2,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.410980&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.400695&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def qsort(nums: list[int]) -> list[int]:
    def partition(left: int, right: int, partition_idx: int) -> int:
        # Since we introduce a random pivot approach, we put it in a place
        # where our algorithm usually starts at
        nums[left], nums[partition_idx] = nums[partition_idx], nums[left]

        # Same steps
        pivot = nums[left]
        i = left + 1
        for j in range(left + 1, right + 1):
            if nums[j] < pivot:
                nums[i], nums[j] = nums[j], nums[i]
                i += 1

        nums[left], nums[i - 1] = nums[i - 1], nums[left]
        return i - 1

    def _qsort(start: int, end: int) -> None:
        if start < end:
            partition_idx = partition(start, end, random.randint(start, end))
            _qsort(start, partition_idx - 1)
            _qsort(partition_idx + 1, end)

    _qsort(0, len(nums) - 1)
    return nums

# Testing the solution
assert qsort([5,4,3,2,1]) == [1,2,3,4,5]
assert qsort([6,5,4,3,2,1]) == [1,2,3,4,5,6]
```

</div>

<div id="9fa5cda2" class="cell code" execution_count="6"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.416168Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.415560Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.421196Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.420599Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:9.374e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.422329&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.412955&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def msort(nums: list[int]) -> list[int]:
    def _msort(left: int, right: int) -> None:
        if left < right:
            mid = (left + right) // 2

            # Very imp to split into (left, mid) and (mid + 1, right)
            # Try to do it other way (left, mid - 1), (mid, right) wouldn't work
            _msort(left, mid)
            _msort(mid + 1, right)

            # Merge the two sorted arrays
            temp: list[int] = []
            i, j = left, mid + 1
            while i <= mid or j <= right:
                if j > right or (i <= mid and nums[i] < nums[j]):
                    temp.append(nums[i])
                    i += 1
                else:
                    temp.append(nums[j])
                    j += 1

            # Reassign the sorted values back to original array
            nums[left: right + 1] = temp

    _msort(0, len(nums) - 1)
    return nums

# Testing the solution
assert msort([5,4,3,2,1]) == [1,2,3,4,5]
assert msort([6,5,4,3,2,1]) == [1,2,3,4,5,6]
```

</div>

<div id="bf753ad8" class="cell code" execution_count="7"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.427480Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.427028Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.431091Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.430577Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:7.771e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.432175&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.424404&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def secondLargestElement(nums: list[int]):
    "Largest - use min heap; Smallest - use max heap"
    heap: list[int] = []
    for n in set(nums):
        heapq.heappush(heap, n)
        if len(heap) > 2:
            heapq.heappop(heap)

    return heap[0] if len(heap) == 2 else -1

# Testing the solution
assert secondLargestElement([10,10,10,10,10]) == -1
assert secondLargestElement([8,8,7,6,5]) == 7
assert secondLargestElement([7,7,2,2,10,10,10]) == 7
```

</div>

<div id="649e052f" class="cell code" execution_count="8"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.437129Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.436641Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.441206Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.440740Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:8.257e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.442380&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.434123&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def rotateArray(nums: list[int], K: int) -> list[int]:
    def reverse(start: int, end: int) -> None:
        while start < end:
            nums[start], nums[end] = nums[end], nums[start]
            start, end = start + 1, end - 1

    N = len(nums)
    K = K % N
    reverse(0, K - 1)
    reverse(K, N - 1)
    reverse(0, N - 1)
    return nums

# Testing the solution
assert rotateArray([1,2,3,4,5,6], 2) == [3,4,5,6,1,2]
assert rotateArray([3,4,1,5,3,-5], 8) == [1,5,3,-5,3,4]
assert rotateArray([1,2,3,4,5], 4) == [5,1,2,3,4]
```

</div>

<div id="60360c89" class="cell code" execution_count="9"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.447657Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.447118Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.450540Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.450100Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:7.121e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.451680&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.444559&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def moveZeros(nums: list[int]) -> None:
    # All index positions until i are filled with non zeros
    i = 0
    for j in range(len(nums)):
        if nums[j] != 0:
            nums[i] = nums[j]
            i += 1

    # Assign all left over positions as 0
    for j in range(i, len(nums)):
        nums[j] = 0
```

</div>

<div id="e23bf205" class="cell code" execution_count="10"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.456758Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.456297Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.459600Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.459156Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:7.008e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.460730&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.453722&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def removeDuplicates(nums: list[int]) -> None:
    # Two pointer approach
    i = 1
    for j in range(1, len(nums)):
        if nums[i - 1] != nums[j]:
            nums[i] = nums[j]
            i += 1

    # Assign left overs as 0
    for j in range(i, len(nums)):
        nums[j] = 0
```

</div>

<div id="3a3f2191" class="cell code" execution_count="11"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.466300Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.465763Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.473045Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.472594Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.1198e-2,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.474097&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.462899&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def findSafeWalk(grid: list[list[int]], health: int) -> bool:
    M, N = len(grid), len(grid[0])
    costs: collections.defaultdict[tuple[int, int], int] = collections.defaultdict(lambda: 0)
    heap: list[tuple[int, tuple[int, int]]] = [(-health if grid[0][0] == 0 else -(health - 1), (0, 0))]
    while heap:
        curr_health, (x, y) = heapq.heappop(heap)
        curr_health = -curr_health
        for (x_, y_) in [(x + 1, y), (x - 1, y), (x, y + 1), (x, y - 1)]:
            if 0 <= x_ < M and 0 <= y_ < N:
                next_health = curr_health if grid[x_][y_] == 0 else curr_health - 1
                if next_health > costs[(x_, y_)]:
                    costs[(x_, y_)] = next_health
                    heapq.heappush(heap, (-next_health, (x_, y_)))

    return costs[(M - 1, N - 1)] > 0

# Testing the solution
assert findSafeWalk([[0,1,0,0,0],[0,1,0,1,0],[0,0,0,1,0]], 1) == True
assert findSafeWalk([[0,1,1,0,0,0],[1,0,1,0,0,0],[0,1,1,1,0,1],[0,0,1,0,1,0]], 3) == False
assert findSafeWalk([[1,1,1],[1,0,1],[1,1,1]], 5) == True
assert findSafeWalk([[1,1,1,1]], 4) == False
```

</div>

<div id="4620e621" class="cell code" execution_count="12"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.479391Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.478886Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.483192Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.482682Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:8.235e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.484422&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.476187&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def intersectionArray(nums1: list[int], nums2: list[int]) -> list[int]:
    i, j, N1, N2 = 0, 0, len(nums1), len(nums2)
    result: list[int] = []
    while i < N1 and j < N2:
        if nums1[i] == nums2[j]:
            result.append(nums1[i])
            i, j = i + 1, j + 1
        elif nums1[i] < nums2[j]:
            i += 1
        else:
            j += 1
    return result

# Testing the solution
assert intersectionArray([1,2,2,3,5], [1,2,7]) == [1,2]
assert intersectionArray([1,2,2,3], [4,5,7]) == []
```

</div>

<div id="6aace28f" class="cell code" execution_count="13"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-09-14T16:47:44.489675Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-09-14T16:47:44.489196Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-09-14T16:47:44.493749Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-09-14T16:47:44.493298Z&quot;}"
papermill="{&quot;duration&quot;:8.323e-3,&quot;end_time&quot;:&quot;2024-09-14T16:47:44.494843&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-09-14T16:47:44.486520&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def leaders(nums: list[int]) -> list[int]:
    result: list[int] = []
    for i in range(len(nums) - 1, -1, -1):
        if not result or result[-1] < nums[i]:
            result.append(nums[i])
    result.reverse()
    return result

# Testing the solution
assert leaders([1,2,5,3,1,2]) == [5,3,2]
assert leaders([-3,4,5,1,-4,-5]) == [5,1,-4,-5]
assert leaders([-3,4,5,1,-30,-10]) == [5,1,-10]
```

</div>
