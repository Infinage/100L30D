---
jupyter:
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
  language_info:
    codemirror_mode:
      name: ipython
      version: 3
    file_extension: .py
    mimetype: text/x-python
    name: python
    nbconvert_exporter: python
    pygments_lexer: ipython3
    version: 3.10.14
  nbformat: 4
  nbformat_minor: 5
  papermill:
    default_parameters: {}
    duration: 1.548715
    end_time: "2024-05-04T15:52:04.967120"
    environment_variables: {}
    input_path: study/striver-A2Z/13-dp.ipynb
    output_path: study/striver-A2Z/13-dp.ipynb
    parameters: {}
    start_time: "2024-05-04T15:52:03.418405"
    version: 2.6.0
---

<div id="457ab51f" class="cell markdown"
papermill="{&quot;duration&quot;:3.75e-3,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.566678&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.562928&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

### Some important imports

</div>

<div id="164d751b" class="cell code" execution_count="1"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.574735Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.574039Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.584124Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.583357Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.6161e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.585964&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.569803&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
import functools
import itertools
import collections
import math
import heapq
```

</div>

<div id="48648354" class="cell markdown"
papermill="{&quot;duration&quot;:2.906e-3,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.591960&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.589054&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

Introduction to DP: <https://youtu.be/tyB0ztf0DNY?si=SgpBwGNqPXzdPSRA>

1.  Tabulation: Bottom up DP: Ans -\> Base case -\> Ans
2.  Memoization: Top down DP: Base case -\> Ans

</div>

<div id="41c46591" class="cell code" execution_count="2"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.599557Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.598886Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.608291Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.607534Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.4989e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.609950&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.594961&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def fiboBrute(n: int) -> int:
    """
    Vanilla recursion
    Time: O(2 ^ N), Space: O(2 ^ N)
    """
    if n <= 1:
        return n
    else:
        return fiboBrute(n - 1) + fiboBrute(n - 2)

fiboBrute(10)
```

<div class="output execute_result" execution_count="2">

    55

</div>

</div>

<div id="83ba7cd5" class="cell code" execution_count="3"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.617855Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.617222Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.625016Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.624266Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.3492e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.626692&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.613200&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def fiboBetter1(n: int) -> int:
    """
    Memoization Approach: Top down approach
    Time: O(N), Space: O(N) + O(N)
    """
    dp: list[int] = [-1 for i in range(n + 1)]
    def backtrack(curr: int) -> int:
        if curr <= 1:
            return curr
        elif dp[curr] != -1:
            return dp[curr]
        else:
            dp[curr] = backtrack(curr - 1) + backtrack(curr - 2)
            return dp[curr]

    return backtrack(n)

fiboBetter1(10)
```

<div class="output execute_result" execution_count="3">

    55

</div>

</div>

<div id="80fded7e" class="cell code" execution_count="4"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.635390Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.634667Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.641694Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.640955Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.3378e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.643547&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.630169&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def fiboBetter2(n: int) -> int:
    """
    Tabulation: Bottom up approach
    Time: O(N), Space: O(N)
    """
    dp: list[int] = [-1 if i > 1 else i for i in range(n + 1)]
    for i in range(2, n + 1):
        dp[i] = dp[i - 1] + dp[i - 2]

    return dp[n]

fiboBetter2(10)
```

<div class="output execute_result" execution_count="4">

    55

</div>

</div>

<div id="8f7d86e2" class="cell code" execution_count="5"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.652307Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.651698Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.658615Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.657728Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.3166e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.660324&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.647158&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def fiboOptimal(n: int) -> int:
    """
    Bottom up approach
    Time: O(N), Space: O(1)
    """
    prev2, prev1 = 0, 1
    for i in range(2, n + 1):
        prev2, prev1 = prev1, prev1 + prev2
        n -= 1

    return prev1

fiboOptimal(10)
```

<div class="output execute_result" execution_count="5">

    55

</div>

</div>

<div id="855c35fb" class="cell markdown"
papermill="{&quot;duration&quot;:3.617e-3,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.667695&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.664078&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

Climbing Stairs: <https://leetcode.com/problems/climbing-stairs/> Video
Link: <https://youtu.be/mLfjzJsN8us?si=C7W-jiYvql0mEnbh>

</div>

<div id="87993489" class="cell code" execution_count="6"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.677018Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.676536Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.682641Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.681813Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.2812e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.684377&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.671565&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def climbStairsBetter(n: int) -> int:
    """Time: O(N), Space: O(N)"""

    dp: list[int] = [-1 for i in range(n + 1)]
    def backtrack(curr: int) -> int:
        if curr <= 1:
            return 1
        elif dp[curr] != -1:
            return dp[curr]
        else:
            dp[curr] = backtrack(curr - 1) + backtrack(curr - 2)
            return dp[curr]

    return backtrack(n)

assert climbStairsBetter(45) == 1836311903
```

</div>

<div id="2dc15ac3" class="cell code" execution_count="7"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.693749Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.693194Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.698660Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.697845Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.2146e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.700417&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.688271&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def climbStairs(n: int) -> int:
    """Time: O(N), Space: O(1)"""
    prev2, prev1 = 1, 1
    while n > 0:
        prev2, prev1 = prev1, prev1 + prev2
        n -= 1

    return prev2

assert climbStairs(45) == 1836311903
```

</div>

<div id="3cd4d88c" class="cell markdown"
papermill="{&quot;duration&quot;:3.869e-3,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.708317&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.704448&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

Video link: <https://youtu.be/EgG3jsGoPvQ?si=Cm5AVvq_zCnr-w6q> Frog
Jump: 1

</div>

<div id="59c27b1e" class="cell code" execution_count="8"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.718091Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.717628Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.725360Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.724524Z&quot;}"
lines_to_next_cell="1"
papermill="{&quot;duration&quot;:1.4861e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.727139&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.712278&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def frogJumpBetter(N: int, heights: list[int]) -> int:
    """
    Time: O(N), Space: O(N) + O(N)
    """

    @functools.cache
    def backtrack(curr: int) -> int:
        if curr == N - 1:
            return 0
        elif curr == N - 2:
            return abs(heights[N - 1] - heights[N - 2])
        else:
            jump1 = abs(heights[curr] - heights[curr + 1]) + backtrack(curr + 1)
            jump2 = abs(heights[curr] - heights[curr + 2]) + backtrack(curr + 2)
            return min(jump1, jump2)

    return backtrack(0)

# Testing the solution
assert frogJumpBetter(4, [10,20,30,10]) == 20
assert frogJumpBetter(3, [10,50,10]) == 0
```

</div>

<div id="2bc52e04" class="cell code" execution_count="9"
execution="{&quot;iopub.execute_input&quot;:&quot;2024-05-04T15:52:04.736736Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-05-04T15:52:04.736073Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-05-04T15:52:04.742719Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-05-04T15:52:04.741978Z&quot;}"
papermill="{&quot;duration&quot;:1.3244e-2,&quot;end_time&quot;:&quot;2024-05-04T15:52:04.744434&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2024-05-04T15:52:04.731190&quot;,&quot;status&quot;:&quot;completed&quot;}"
tags="[]">

``` python
def frogJumpOptimal(N: int, heights: list[int]) -> int:
    "Time: O(N), Space: O(1)"
    jump1, jump2 = abs(heights[-2] - heights[-1]), 0
    for i in range(N - 3, -1, -1):
        curr = min(abs(heights[i] - heights[i + 1]) + jump1, abs(heights[i] - heights[i + 2]) + jump2)
        jump1, jump2 = curr, jump1

    return jump1

assert frogJumpOptimal(4, [10,20,30,10]) == 20
assert frogJumpOptimal(3, [10,50,10]) == 0
```

</div>
